<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
        <style>
        body {
            margin: 0;
            padding: 0;
        }
        html,
        body,
        #map {
            height: 100%;
        }
    </style>
</head>
<body>
<div id="map"></div>
<!--mapbox库只能window方式引入开发，其他方式需要修改-->
<script src="./src/mapbox/mapbox-gl.js"></script>
<script>
    let center = [116.39, 39.91];

    var styleUrl = './style.json';
    //http://yjqz.geo-compass.com/#/map
    fetch(styleUrl).then(function (response) {   //http://localhost:8089/egis/base/v1/wvts/styles/1
        response.json().then(function (glStyle) {
            var map = window.map = new mapboxgl.Map({
                container: 'map',
                epsg: 'EPSG:4490',
                hash: true,
                style: glStyle
            });
            //this.map.setStyle(url)

            map.on("zoomend",function (e) {
                console.log(map.getZoom())
            })
            console.log(map)
        })
    })
    let url='http://10.18.1.139:8089/egis/base/v1/wvts/styles/1';

    let passUrl = "http://10.18.1.240:31867/egis/base/v1/wvts/styles/1";

</script>
</body>
</html>